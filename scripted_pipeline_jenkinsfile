
pipeline {
agent any
stages {
    stage('Build in Docker') {
        steps {
            script{
                sh 'docker stop $(docker ps -a -q) && docker rm $(docker ps -a -q)'
                sh 'docker run -d --name demo shahabajsshaikh/openjdk8:0.0'
                sh "docker exec -i demo bash -c 'ls'" 
            }
        }
    }
}
}
